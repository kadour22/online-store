{% extends "core/base.html" %}

{% block content %}
<div class="bg-gray-900">
  <div class="mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8">
    <h1 class="text-3xl font-bold tracking-tight text-white sm:text-4xl">Shopping Cart</h1>
    <div class="mt-8">
      <ul role="list" class="-my-6 divide-y divide-gray-800">
        {% for item in cartitem  %}
        <li class="flex py-6">
          <div class="size-24 shrink-0 overflow-hidden rounded-md border border-gray-700">
            <img src="{{item.product.image.url}}" alt="{{item.product.name}}" class="size-full object-cover">
          </div>

          <div class="ml-4 flex flex-1 flex-col">
            <div>
              <div class="flex justify-between text-base font-medium text-white">
                <h3>
                  <a href="{% url 'product' item.product.id %}" class="hover:text-indigo-400">{{item.product.name}}</a>
                </h3>
                <p class="ml-4">$ {{item.product.price}}</p>
              </div>
              <p class="mt-1 text-sm text-gray-400">{{item.product.category.name}}</p>
            </div>
            <div class="flex flex-1 items-end justify-between text-sm">
              <p class="text-gray-400">Quantity: {{item.quantity}}</p>
              <p class="text-gray-400">Total Price: {{total_price}}</p>
              <div class="flex items-center space-x-4">
                <a href="{% url 'increase' item.product.id  %}" class="text-indigo-400 hover:text-indigo-300 text-lg">➕</a>
                <a href="{% url 'decreacse' item.product.id  %}" class="text-indigo-400 hover:text-indigo-300 text-lg">➖</a>
              </div>
            </div>
          </div>
        </li>
        {% endfor  %}
      </ul>
    </div>
  </div>
  <p class="text-gray-400">Total Price: {{total_of_total}}</p>
</div>
{% endblock %}